Этот урок посвящен псевдонимам столбцов в SQL — мощному методу переименования столбцов в результатах запроса. Вы узнаете, как использовать ключевое слово `AS` для создания временных имен, которые улучшают читаемость и ясность вывода. Мы рассмотрим преимущества псевдонимов, такие как упрощение сложных имен столбцов, устранение неоднозначности при объединении таблиц и создание понятных заголовков для вычисляемых столбцов. К концу этого урока вы сможете настраивать результирующие наборы данных так, чтобы они были более информативными и удобными для анализа и отчетности.

# Урок 2.4: Псевдонимы столбцов

В предыдущих уроках мы научились выбирать данные из таблиц. Иногда имена столбцов в базе данных по умолчанию не очень информативны, или вы можете захотеть дать новое имя вычисляемому столбцу. Именно здесь на помощь приходят **псевдонимы столбцов** (Column Aliasing).

## Что такое псевдонимы столбцов?

Псевдонимы столбцов позволяют вам присвоить временное, альтернативное имя столбцу в результирующем наборе запроса `SELECT`. Это не изменяет фактическое имя столбца в таблице; это влияет только на то, как столбец отображается в выходных данных запроса.

## Синтаксис

Вы можете создать псевдоним столбца, используя ключевое слово `AS`, хотя оно часто необязательно:

```sql
SELECT column_name AS alias_name
FROM table_name;

-- ИЛИ (без AS)

SELECT column_name alias_name
FROM table_name;
```

*   **`column_name`**: Имя столбца, для которого вы хотите создать псевдоним.
*   **`AS alias_name`**: Ключевое слово `AS`, за которым следует желаемое имя псевдонима.
*   **`alias_name`**: Новое, временное имя для столбца. Если псевдоним содержит пробелы или специальные символы, его необходимо заключить в двойные кавычки (`"`).

## Преимущества псевдонимов столбцов

Использование псевдонимов дает несколько преимуществ для представления данных и построения запросов:

*   **Улучшенная читаемость:** Псевдонимы могут сделать имена столбцов более описательными и понятными, особенно при работе со сложными запросами или вычисляемыми столбцами.
*   **Упрощенные имена столбцов:** Если имя столбца длинное или содержит символы подчеркивания, псевдоним может предоставить более короткое и удобное имя для использования в результирующем наборе.
*   **Избежание неоднозначности:** При объединении таблиц со столбцами, имеющими одинаковые имена, псевдонимы помогают различить их в выводе.
*   **Создание более удобного вывода:** Псевдонимы позволяют настраивать заголовки столбцов в результирующем наборе так, чтобы они были более значимыми для конечных пользователей или инструментов отчетности.
*   **Работа с вычисляемыми столбцами:** Псевдонимы необходимы при создании вычисляемых столбцов (например, с использованием функций или выражений), так как такие столбцы не имеют собственных имен.

## Примеры

Давайте рассмотрим несколько практических примеров, используя структуру базы данных Sakila.

### Пример 1: Базовый псевдоним
Этот запрос выбирает столбцы `first_name` и `last_name` из таблицы `actor`, но отображает их как "Имя" и "Фамилия" в результирующем наборе. Обратите внимание на использование двойных кавычек, так как псевдоним содержит пробел.

```sql
SELECT first_name AS "Имя", last_name AS "Фамилия"
FROM actor;
```

### Пример 2: Псевдонимы вычисляемых столбцов
Этот запрос вычисляет продолжительность аренды в днях и присваивает псевдоним `rental_duration` вычисляемому столбцу.

```sql
SELECT rental_date, return_date - rental_date AS rental_duration
FROM rental;
```

### Пример 3: Псевдонимы с конкатенацией
Этот запрос объединяет столбцы `first_name` и `last_name` для создания полного имени и присваивает результат псевдониму "Полное имя".

```sql
SELECT first_name || ' ' || last_name AS "Полное имя"
FROM actor;
```

> **Примечание:** Оператор `||` используется для конкатенации строк в SQLite и PostgreSQL. Другие базы данных могут использовать другие операторы или функции (например, `+` в SQL Server, функция `CONCAT()` в MySQL).

---

**Ключевые выводы этого урока:**

*   Псевдонимы столбцов предоставляют временные описательные имена для столбцов в результирующем наборе запроса.
*   Используйте ключевое слово `AS` (или просто пробел) для создания псевдонима.
*   Заключайте псевдонимы с пробелами или специальными символами в двойные кавычки (`"`).
*   Псевдонимы улучшают читаемость, упрощают имена столбцов, помогают избежать неоднозначности и необходимы для вычисляемых столбцов.

В следующем модуле мы изучим, как использовать **функции** для дальнейшего управления и преобразования данных в наших запросах.
